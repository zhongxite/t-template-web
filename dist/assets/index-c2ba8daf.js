import{_ as M,f as g,h as R,r as c,o as r,g as p,b as q,w as s,n as $,u as x,G as j,a as h,F as _,B as i,c as u,H as v,l as f,t as V,I as L,J as D}from"./index-8906f66a.js";const z={key:0,class:"formBox"},O={class:"btnBox"},P={class:"operateBtnList"},A={class:"left"},G={class:"right"},J={__name:"index",props:{queryFormList:{type:Array,default:[]},operateBtnList:{type:Object,default:{}},queryForm:{type:Object,default:{}}},emits:["clickSearch"],setup(C,{emit:S}){const o=C,F=g(null);let m=g(!0),k=g({height:"auto"});o.queryFormList&&o.queryFormList.forEach((t,l)=>{t.type=="daterange"?(o.queryForm[t.prop]=t.defaultData?t.defaultData:[],o.queryForm[t.format]=t.format):o.queryForm[t.prop]=t.defaultData?t.defaultData:""});const U=()=>{b("change")},w=()=>{F.value.resetFields(),b("search")},b=t=>{let l={};o.queryFormList.forEach((a,B)=>{a.type=="daterange"?o.queryForm[a.prop]&&a.branchValue?(l[a.branchValue.start]=o.queryForm[a.prop][0],l[a.branchValue.end]=o.queryForm[a.prop][1]):(l[a.branchValue.start]="",l[a.branchValue.end]=""):l[a.prop]=o.queryForm[a.prop]}),S("clickSearch",l,t)},H=()=>{m.value=!m.value};return R(()=>{k.value={height:F.value.$el.clientHeight+"px"}}),(t,l)=>{const a=c("el-input"),B=c("el-option"),I=c("el-select"),N=c("el-date-picker"),Y=c("el-form-item"),d=c("el-button"),E=c("el-form");return r(),p(_,null,[q(E,{inline:!0,ref_key:"searchRef",ref:F,model:o.queryForm,"label-width":"auto",class:$(["searchFormBox",x(m)?"":"searchFormBoxHide"]),style:j(x(k))},{default:s(()=>[o.queryFormList&&o.queryFormList.length!=0?(r(),p("div",z,[(r(!0),p(_,null,i(o.queryFormList,(e,y)=>(r(),u(Y,{key:y,label:e.label,prop:e.prop,class:"formItem"},{default:s(()=>[e.type=="input"?(r(),u(a,{key:0,modelValue:o.queryForm[e.prop],"onUpdate:modelValue":n=>o.queryForm[e.prop]=n,placeholder:e.placeholder,clearable:""},null,8,["modelValue","onUpdate:modelValue","placeholder"])):e.type=="select"?(r(),u(I,{key:1,modelValue:o.queryForm[e.prop],"onUpdate:modelValue":n=>o.queryForm[e.prop]=n,placeholder:e.placeholder,clearable:""},{default:s(()=>[(r(!0),p(_,null,i(e.option,(n,T)=>(r(),u(B,{label:n.label,value:n.value},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):e.type=="daterange"?(r(),u(N,{key:2,modelValue:o.queryForm[e.prop],"onUpdate:modelValue":n=>o.queryForm[e.prop]=n,type:"daterange",format:"YYYY/MM/DD","value-format":o.queryForm[e.format],"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",onChange:l[0]||(l[0]=n=>U())},null,8,["modelValue","onUpdate:modelValue","value-format"])):v("",!0)]),_:2},1032,["label","prop"]))),128)),h("div",O,[q(d,{class:"btn",text:"",bg:"",type:"primary",plain:"",onClick:l[1]||(l[1]=e=>b("search"))},{default:s(()=>[f("搜索")]),_:1}),q(d,{class:"btn",text:"",bg:"",type:"danger",plain:"",onClick:w},{default:s(()=>[f("重置")]),_:1})])])):v("",!0)]),_:1},8,["model","class","style"]),h("div",P,[h("div",A,[(r(!0),p(_,null,i(o.operateBtnList.left,(e,y)=>(r(),u(d,L({key:y,class:"btn",text:"",bg:"",type:e.type,color:e.color,plain:""},D(e.listeners)),{default:s(()=>[f(V(e.name),1)]),_:2},1040,["type","color"]))),128))]),h("div",G,[(r(!0),p(_,null,i(o.operateBtnList.right,(e,y)=>(r(),u(d,L({key:y,class:"btn",color:e.color,text:"",bg:"",type:e.type,plain:""},D(e.listeners)),{default:s(()=>[f(V(e.name),1)]),_:2},1040,["color","type"]))),128)),o.queryFormList&&o.queryFormList.length!=0?(r(),u(d,{key:0,class:"btn",text:"",bg:"",type:"warning",plain:"",onClick:H},{default:s(()=>[f(V(x(m)?"收缩":"展开")+"表单",1)]),_:1})):v("",!0)])])],64)}}},Q=M(J,[["__scopeId","data-v-3c187c52"]]);export{Q as default};
